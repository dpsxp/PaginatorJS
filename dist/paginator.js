function PaginatorJS(t){this.changeTotal(t&&t.total||0),this.changePerPage(t&&t.perPage||10),this.changePage(t&&t.page||1),this.template=t&&t.template||_.template(),this._calcPages(),this._calculateCurrentPage()}var _=require("lodash");PaginatorJS.prototype={changePage:function(t){this.page=parseInt(t,10)},changePerPage:function(t){this.perPage=parseInt(t,10),this._calculateCurrentPage()},changeTotal:function(t){this.total=parseInt(t,10)},render:function(){return this._calculateCurrentPage(),this._calcPages(),this.template({total:this.total,perPage:this.perPage,page:this.page,pages:this.pages})},firstPages:function(){return this.page<=10?this.pages.slice(1,10):this.pages.slice(1,4)},lastPages:function(){return this.page===this.pages.length-1?[]:_.difference(this.pages.slice(this.pages.length-3),this.firstPages())},nextPages:function(){var t=this.pages.slice(this.page+1,this.page+3);return _.difference(t,this.firstPages(),this.lastPages())},prevPages:function(){var t=this.pages.slice(this.page-2,this.page),e=this.firstPages();return e.unshift(0),_.difference(t,e)},isNextDisabled:function(){return this.page>=this.pages.length-1},isPrevDisabled:function(){return 1===this.page},shouldShowBeforeGap:function(){return this.page<=this.firstPages().length?!1:this.prevPages().length>0&&!_.contains(this.firstPages(),this.prevPages()[0]-2)},shouldShowAfterGap:function(){return _.contains(this.lastPages(),this.page)||this.page===this.pages.length-1?!1:2==this.nextPages().length||_.contains(this.firstPages(),this.page)&&this.pages.length>this.firstPages().length},_calculateCurrentPage:function(){var t=this._roundUp(this.total,this.perPage);t<this.page&&(this.page=t>1?t:1)},_calcPages:function(){var t=(Math.round(this.total/this.perPage),0);this.total<this.perPage?this.pages=[0,1]:(t=this._roundUp(this.total,this.perPage),this.pages=_.range(0,t+1))},_roundUp:function(t,e){var s=t/e,a=parseInt(s.toFixed(1).split(".")[1],10),i=0;return i=a>0&&5>a?Math.round(s)+1:Math.round(s)}},module.exports=PaginatorJS;