!function(t,e){"use strict";t.PaginatorJS=function(t){this.changeTotal(t&&t.total||0),this.changePage(t&&t.page||1),this.changePerPage(t&&t.perPage||10),this.template=t&&t.template||e.template({})},PaginatorJS.prototype={changePage:function(t){this.page=window.parseInt(t,10)},changePerPage:function(t){this.perPage=window.parseInt(t,10),this._calculateCurrentPage(),this._calcPages()},changeTotal:function(t){this.total=window.parseInt(t,10),this.perPage&&this._calcPages(),this.page&&this._calculateCurrentPage()},render:function(){return this._calculateCurrentPage(),this._calcPages(),this.template({total:this.total,perPage:this.perPage,page:this.page,pages:this.pages})},firstPages:function(){return this.page<=10?this.pages.slice(1,10):this.pages.slice(1,4)},lastPages:function(){return this.page>=this.pages.length-6?e.difference(this.pages.slice(this.pages.length-6),this.firstPages(),[0]):e.difference(this.pages.slice(this.pages.length-3),this.firstPages(),[0])},nextPages:function(){var t=this.pages.slice(this.page+1,this.page+3);return e.difference(t,this.firstPages(),this.lastPages())},prevPages:function(){var t=this.pages.slice(this.page-2,this.page),s=this.firstPages();return s.unshift(0),e.difference(t,s,this.lastPages())},isNextDisabled:function(){return this.page>=this.pages.length-1},isPrevDisabled:function(){return 1===this.page},shouldShowBeforeGap:function(){return!e.contains(this.firstPages(),this.page)&&!e.contains(this.firstPages(),this.page-1,this.page-2)},shouldShowAfterGap:function(){return this.lastPages().length>0&&!e.contains(this.lastPages(),this.page)&&!e.contains(this.lastPages(),this.page+1,this.page+2)},_calculateCurrentPage:function(){if(0!==this.total){var t=this._roundUp(this.total,this.perPage);t<this.page&&(this.page=t>1?t:1)}},_calcPages:function(){var t=(Math.round(this.total/this.perPage||10),0);this.total<this.perPage?this.pages=[0,1]:(t=this._roundUp(this.total,this.perPage),this.pages=e.range(0,t+1))},_roundUp:function(t,e){var s=t/e,a=window.parseInt(s.toFixed(1).split(".")[1],10),i=0;return i=a>0&&5>a?Math.round(s)+1:Math.round(s)}}}(this,_);